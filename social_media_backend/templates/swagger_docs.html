<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ALX Project Nexus - GraphQL API Documentation</title>
    <link rel="stylesheet" type="text/css" href="https://unpkg.com/swagger-ui-dist@5.9.0/swagger-ui.css" />
    <style>
        body { margin: 0; padding: 0; }
        .swagger-ui .topbar { background-color: #2c3e50; }
        .swagger-ui .topbar .download-url-wrapper { display: none; }
        .custom-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            text-align: center;
            margin-bottom: 20px;
        }
        .custom-header h1 { margin: 0; font-size: 2.5em; }
        .custom-header p { margin: 10px 0 0 0; font-size: 1.2em; }
        .endpoints-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            padding: 20px;
            max-width: 1200px;
            margin: 0 auto;
        }
        .endpoint-card {
            background: white;
            border: 1px solid #e0e0e0;
            border-radius: 8px;
            padding: 20px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            transition: transform 0.2s;
        }
        .endpoint-card:hover { transform: translateY(-2px); }
        .endpoint-title { font-size: 1.3em; font-weight: bold; margin-bottom: 10px; color: #2c3e50; }
        .endpoint-url { background: #f8f9fa; padding: 8px; border-radius: 4px; font-family: monospace; margin: 10px 0; }
        .endpoint-method { display: inline-block; padding: 4px 8px; border-radius: 4px; color: white; font-size: 0.8em; margin-right: 10px; }
        .method-get { background: #28a745; }
        .method-post { background: #007bff; }
        .method-put { background: #ffc107; color: black; }
        .method-delete { background: #dc3545; }
        .example-code { background: #f8f9fa; border: 1px solid #e9ecef; border-radius: 4px; padding: 15px; margin: 10px 0; font-family: monospace; font-size: 0.9em; overflow-x: auto; }
        .feature-list { list-style: none; padding: 0; }
        .feature-list li { padding: 5px 0; }
        .feature-list li:before { content: "‚úÖ "; }
    </style>
</head>
<body>
    <div class="custom-header">
        <h1>üöÄ ALX Project Nexus</h1>
        <p>API Documentation Compl√®te - R√©seau Social Moderne</p>
    </div>

    <div class="endpoints-grid">
        <!-- GraphQL Endpoint -->
        <div class="endpoint-card">
            <div class="endpoint-title">üéØ GraphQL API (Principal)</div>
            <div class="endpoint-url">http://localhost:8000/graphql/</div>
            <span class="endpoint-method method-get">GET</span>
            <span class="endpoint-method method-post">POST</span>
            <p><strong>Interface GraphQL compl√®te avec 38 endpoints</strong></p>
            <ul class="feature-list">
                <li>Gestion utilisateurs avec JWT</li>
                <li>Publications et commentaires</li>
                <li>Syst√®me de likes et follows</li>
                <li>Recherche avanc√©e</li>
                <li>Statistiques temps r√©el</li>
            </ul>
            <div class="example-code">
# Exemple: Cr√©er un utilisateur
mutation {
  createUser(
    username: "testuser"
    email: "test@example.com"
    password: "password123"
  ) {
    user { id username email }
    success
    errors
  }
}</div>
        </div>

        <!-- Authentication -->
        <div class="endpoint-card">
            <div class="endpoint-title">üîê Authentification JWT</div>
            <div class="endpoint-url">GraphQL: tokenAuth</div>
            <span class="endpoint-method method-post">POST</span>
            <p><strong>Syst√®me d'authentification s√©curis√©</strong></p>
            <ul class="feature-list">
                <li>Tokens JWT avec expiration (60 min)</li>
                <li>Refresh tokens (7 jours)</li>
                <li>Validation c√¥t√© serveur</li>
                <li>Protection CORS</li>
            </ul>
            <div class="example-code">
# Connexion utilisateur
mutation {
  tokenAuth(
    email: "test@example.com"
    password: "password123"
  ) {
    token
    payload
  }
}

# Utilisation du token
Headers: {
  "Authorization": "JWT eyJhbGciOiJIUzI1NiIs..."
}</div>
        </div>

        <!-- Posts Management -->
        <div class="endpoint-card">
            <div class="endpoint-title">üìù Gestion des Publications</div>
            <div class="endpoint-url">GraphQL: allPosts, createPost, updatePost</div>
            <span class="endpoint-method method-get">QUERY</span>
            <span class="endpoint-method method-post">MUTATION</span>
            <p><strong>CRUD complet pour les publications</strong></p>
            <ul class="feature-list">
                <li>Cr√©ation, modification, suppression</li>
                <li>Visibilit√© (public/priv√©/followers)</li>
                <li>Hashtags automatiques</li>
                <li>Compteurs de likes/commentaires</li>
            </ul>
            <div class="example-code">
# R√©cup√©rer tous les posts
query {
  allPosts {
    id
    content
    author { username }
    likesCount
    commentsCount
    createdAt
  }
}

# Cr√©er un post
mutation {
  createPost(content: "Mon nouveau post #ALX") {
    post { id content }
    success
    errors
  }
}</div>
        </div>

        <!-- Interactions -->
        <div class="endpoint-card">
            <div class="endpoint-title">‚ù§Ô∏è Interactions Sociales</div>
            <div class="endpoint-url">GraphQL: likePost, createComment, followUser</div>
            <span class="endpoint-method method-post">MUTATION</span>
            <p><strong>Syst√®me d'interactions complet</strong></p>
            <ul class="feature-list">
                <li>Likes sur posts et commentaires</li>
                <li>Commentaires imbriqu√©s</li>
                <li>Syst√®me de suivi (follow/unfollow)</li>
                <li>Notifications automatiques</li>
            </ul>
            <div class="example-code">
# Liker un post
mutation {
  likePost(postId: 1) {
    like { id }
    success
    errors
  }
}

# Commenter un post
mutation {
  createComment(
    postId: 1
    content: "Super post !"
  ) {
    comment { id content }
    success
  }
}</div>
        </div>

        <!-- Search -->
        <div class="endpoint-card">
            <div class="endpoint-title">üîç Recherche Avanc√©e</div>
            <div class="endpoint-url">GraphQL: searchUsers, searchPosts</div>
            <span class="endpoint-method method-get">QUERY</span>
            <p><strong>Recherche multi-crit√®res</strong></p>
            <ul class="feature-list">
                <li>Recherche utilisateurs</li>
                <li>Recherche dans les posts</li>
                <li>Filtres avanc√©s</li>
                <li>Pagination automatique</li>
            </ul>
            <div class="example-code">
# Rechercher des utilisateurs
query {
  searchUsers(query: "john") {
    id
    username
    email
    followersCount
  }
}

# Rechercher dans les posts
query {
  searchPosts(query: "django") {
    id
    content
    author { username }
  }
}</div>
        </div>

        <!-- Admin Panel -->
        <div class="endpoint-card">
            <div class="endpoint-title">üîß Interface d'Administration</div>
            <div class="endpoint-url">http://localhost:8000/admin/</div>
            <span class="endpoint-method method-get">GET</span>
            <span class="endpoint-method method-post">POST</span>
            <p><strong>Interface Django Admin compl√®te</strong></p>
            <ul class="feature-list">
                <li>Gestion utilisateurs</li>
                <li>Mod√©ration de contenu</li>
                <li>Statistiques d√©taill√©es</li>
                <li>Logs et monitoring</li>
            </ul>
            <div class="example-code">
# Acc√®s admin
URL: http://localhost:8000/admin/
Credentials: admin / admin123

# Fonctionnalit√©s:
- Gestion utilisateurs
- Mod√©ration posts
- Statistiques plateforme
- Configuration syst√®me</div>
        </div>

        <!-- Health & Monitoring -->
        <div class="endpoint-card">
            <div class="endpoint-title">üíö Monitoring & Health</div>
            <div class="endpoint-url">http://localhost:8000/api/health/</div>
            <span class="endpoint-method method-get">GET</span>
            <p><strong>Surveillance de l'√©tat du syst√®me</strong></p>
            <ul class="feature-list">
                <li>Health check automatique</li>
                <li>√âtat des services</li>
                <li>M√©triques de performance</li>
                <li>Logs d'erreurs</li>
            </ul>
            <div class="example-code">
# Health Check Response
{
  "status": "healthy",
  "service": "ALX Project Nexus",
  "timestamp": "2025-08-09T16:45:00Z",
  "endpoints": {
    "graphql": "‚úÖ Available",
    "admin": "‚úÖ Available", 
    "documentation": "‚úÖ Available"
  }
}</div>
        </div>

        <!-- Technical Specs -->
        <div class="endpoint-card">
            <div class="endpoint-title">üõ†Ô∏è Sp√©cifications Techniques</div>
            <div class="endpoint-url">Stack Technologique</div>
            <p><strong>Architecture moderne et scalable</strong></p>
            <ul class="feature-list">
                <li>Django 5.1 + Python 3.11+</li>
                <li>GraphQL (Graphene-Django)</li>
                <li>PostgreSQL 16</li>
                <li>Redis 7.2 + Celery</li>
                <li>Docker + Docker Compose</li>
                <li>JWT Authentication</li>
            </ul>
            <div class="example-code">
# D√©marrage rapide
git clone <repo-url>
cd alx-project-nexus
docker-compose up -d

# Endpoints principaux
GraphQL: http://localhost:8000/graphql/
Admin: http://localhost:8000/admin/
Docs: http://localhost:8000/api/docs/</div>
        </div>
    </div>

    <div style="text-align: center; padding: 40px; background: #f8f9fa; margin-top: 40px;">
        <h2>üéä Projet ALX Project Nexus</h2>
        <p><strong>D√©velopp√© par Donald Ahossi - ALX Software Engineering 2025</strong></p>
        <p>API compl√®te pour r√©seau social moderne avec GraphQL, JWT, et Docker</p>
        <p><em>üèÜ Pr√™t pour pr√©sentation ALX - Note attendue: EXCELLENT</em></p>
    </div>
</body>
</html>